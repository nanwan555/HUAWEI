"use strict";!function(){var r=$(".order-list-detail");function e(a){$.ajax({url:"http://127.0.0.1:8080/HUAWEI/php/cart.php",dataType:"json"}).done(function(e){$.each(e,function(e,n){var i=n.pic.split(",");if(a===n.id){var c;c='\n                    <div class="order-main clearfix " style="position: relative;">\n                    <div class="cart-checkbox" style="float: left;" checked>\n                        <input type="checkbox" name="" id="'+a+'" value="">\n                    </div>\n                    <a style="cursor:default" ahref="/product/10086779543890.html#2601010116501" class="p-img" target="_blank">\n                        <img alt="荣耀20 PRO DXO全球第二高分 4800万全焦段AI四摄 双光学防抖 麒麟980全网通版8GB+128GB 幻夜星河" src="'+i[0]+'">\n                    </a>\n                    <ul class="box">\n                        <li>\n                            <a style="cursor:default" ahref="/product/10086779543890.html#2601010116501" class="p-name" target="_blank" seed="item-name">'+n.detail+'</a>\n                        </li> \n                        <li>\n                        <input type="text"  min="1" max="99" id="put" value="" placeholder="输入想要数量" style="width:80px;">\n                        </li>\n                        <li class="p-price" style="color:red">\n                            单价:￥'+n.price+'\n                        </li>\n                        <li class="everyprice">\n                        总价￥：<i> '+n.price+' </i>\n                        </li>\n                    </ul>\n                    <div id="zj">\n                    <span>&nbsp;<b></b><span>\n                    </div>\n                    <div id="dlete" >\n                        <a href="javascript:;" del="'+a+'" id="ele">删除</a>\n                    </div>\n                   </div>\n                ',r.prepend(c);var t=$("#put");$(".everyprice");t.on("keyup",function(){var e=this.value*$(this).parent().siblings(".p-price").html().split("￥")[1];$(this).parents(".order-main ").find(".everyprice i").html(e),s()});var o=$(".cart-checkbox input"),l=$("#chek");l.on("click",function(){l.prop("checked")?o.prop("checked",!0):(o.prop("checked",!1),$("#payableTotal").html(0)),s()}),o.on("click",function(){o.size===$("input:checked").length?l.prop("checked",!0):l.prop("checked",!1),s()}),$("#dlete").on("click","a",function(){$(this).parent().parent().remove();var e=$(this).attr("del");$(this).parent().remove();e=$(this).attr("del");if(console.log(e),getcookie("cookiesid")&&getcookie("cookienum")){var i=getcookie("cookiesid").split(","),c=getcookie("cookienum").split(","),t=i.indexOf(e);i.splice(t,1),o("cookiesid",i,20);c.indexOf(n);c.splice("index",1),o("cookienum",c,20)}function o(e,i,c){var t=new Date;t.setDate(t.getDate()+c),document.cookie=e+"="+encodeURI(i)+";expires="+t}})}}),s()})}if(getcookie("cookiesid")&&getcookie("cookienum"))for(var i=getcookie("cookiesid").split(","),c=getcookie("cookienum").split(","),t=0;t<i.length;t++)e(i[t],c[t]);function s(){var e=0;$(".order-main").each(function(){$(this).find(".cart-checkbox").find("input").is(":checked")&&(e+=parseFloat($(this).find(".everyprice i").html())),console.log(parseFloat($(this).find(".everyprice i").html()))}),$("#order-price-VMALL-HUAWEIDEVICE").html(e)}}(),$("#checkoutSubmit").on("click",function(){$(".bg-model").fadeTo(300,1)}),$(".bg-model-ok").click(function(){$(".bg-model").hide(),$("body").css({overflow:"visible"})}).hover(function(){$(this).css({backgroundColor:"#8CC8C8"})},function(){$(this).css({backgroundColor:"#8CD4E6"})}),$(".tuichu").on("click",function(){$(".bg-model").css("display","none")});